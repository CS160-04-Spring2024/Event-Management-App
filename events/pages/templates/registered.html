{% extends 'homebase.html' %}
{% block content %}

<div class="container-fluid">
    <h3 class="my-4 text-center">Your Events</h3>

    <div class="d-flex flex-wrap gap-2 justify-content-center">
        <a href="{% url 'user_events' %}" class="btn btn-outline-primary">All</a>
        {% for tag in tags %}
            <a href="{% url 'user_events' %}?tag={{tag.name}}" class="btn btn-outline-primary">{{tag.name}}</a>
        {% endfor %}
    </div>

    <div class="row justify-content-center my-5">

        {% for event in events %}
            <div class="col-md-auto col-sm-auto my-auto mt-4">

                <div class="card position-relative align-items-stretch shadow" style="width: 15rem; border-radius: 6%;">
                    <img src="{{ event.event_image }}" class="card-img-top card-img-sm" alt="">
                    <div class="card-body">
                        <h6 class="card-title"><a href="{% url 'club' cid=event.organization_id %}"
                                style="text-decoration: none;">{{event.club_name}}</a></h6>
                        <a href="{% url 'event' event_id=event.event_id %}" style="text-decoration: none;"><h4 class="card-subtitle mb-2 text-muted" style="font-size: large;">{{event.event_name}}</h4></a>
                        <div class="col d-flex">
                            <i class="bi bi-person mx-2"></i>
                            <p class="">{{event.mode_of_operation}}</p>
                        </div>
                        <div class="col d-flex">
                            <i class="bi bi-clock mx-1"></i>
                            <p class="" style="font-size: small;">{{event.time}}</p>
                        </div>
                        <div class="row gap-2">
                            {% for tag2 in event.tag_list %}
                            <div class="col-md-3">
                                <h5><span class="badge rounded-pill bg-success shadow">{{tag2.tag_id}}</span></h5>
                            </div>
                            {% endfor %}
                        </div>
                        <hr>
                        {% if event.attendees == 1 %}
                        <p style="margin-bottom: -1%;"> {{event.attendees}} person registered</p>
                        {% else %}
                        <p style="margin-bottom: -1%;"> {{event.attendees}} people registered</p>
                        {% endif %}
                        <!-- <a href="{% url 'event' event_id=event.event_id %}" class="stretched-link"
                            style="text-decoration: none;">{{event.attendees}} people registered</a> -->
                    </div>
            
                </div>
            
            
            </div>
            {% endfor %}
    </div>

</div>

{% endblock %}